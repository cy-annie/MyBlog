[
  {
    "objectID": "posts/welcome/indexx.html",
    "href": "posts/welcome/indexx.html",
    "title": "Regressão Linear",
    "section": "",
    "text": "Irei apresentar como calcular uma Regressão Linear, analisando a relação entre anos de estudo (X) e salário (y). Ao final, mostrarei um gráfico com os pontos e a linha estimada usando a biblioteca Plotly.\nDados\n\nimport numpy as np\nimport pandas as pd\n\n# Dados dos arquivos X.txt e y.txt\nvalores_x = np.loadtxt(\"X.txt\")\nvalores_y = np.loadtxt(\"y.txt\")\n\nprint(\"Primeiros valores de X:\", valores_x[:5])\nprint(\"Primeiros valores de y:\", valores_y[:5])\n\nPrimeiros valores de X: [1.0001196  1.01898722 1.02368946 1.02374228 1.02376542]\nPrimeiros valores de y: [1143.9765853  2419.25611262 1447.13176096  334.15992826 1214.72297412]\n\n\nRegressão Linear\n\n# Matriz X (coluna de 1s + valores_x) e vetor Y\nX = np.vstack([np.ones(len(valores_x)), valores_x]).T\nY = valores_y.reshape(-1, 1)\n\n# Fórmula matricial: beta = (X^T X)^(-1) X^T Y\nbeta = np.linalg.inv(X.T @ X) @ X.T @ Y\n\n# Coeficientes\na = beta[0, 0]   # intercepto\nb = beta[1, 0]   # coeficiente angular\n\nprint(\"Intercepto (a):\", a)\nprint(\"Coeficiente (b):\", b)\n\nIntercepto (a): 373.93446839130695\nCoeficiente (b): 991.6278332981966\n\n\nGrafico\n\nimport plotly.express as px\nimport plotly.graph_objects as go\n\n# Criar DataFrame\ndf = pd.DataFrame({\"x\": valores_x, \"y\": valores_y})\n\n# Gráfico de dispersão\nfig = px.scatter(df, x=\"x\", y=\"y\", title=\"Regressão Linear: Anos de Estudo vs Salário\")\n\n# Adicionar linha da regressão\nfig.add_trace(go.Scatter(\n    x=df[\"x\"],\n    y=a + b * df[\"x\"],  # reta estimada\n    mode=\"lines\",\n    name=\"Linha estimada\",\n    line=dict(color=\"red\")\n))\n\nfig.show()"
  },
  {
    "objectID": "posts/post-with-code/index.html",
    "href": "posts/post-with-code/index.html",
    "title": "Cotação do Dólar",
    "section": "",
    "text": "Nesse post mostro como criar uma função em Python que recebe uma string “MMYYYY”, calcula o período do mês, consulta a API de cotação do dólar e exibe os dados em um gráfico de linha com Plotly.\nImportação da Biblioteca\n\nimport requests\nimport pandas as pd\nimport calendar\nfrom datetime import datetime\nimport plotly.express as px\n\nFunção Principal\n\ndef cotacao_dolar_periodo(mes_ano: str):\n    # 2.1 Converter string \"MMYYYY\" em datas inicial e final\n    first_date = datetime.strptime(mes_ano, \"%m%Y\")\n    last_day = calendar.monthrange(first_date.year, first_date.month)[1]\n    last_date = first_date.replace(day=last_day)\n\n    # 2.2 Formatar datas para API (MM-DD-YYYY)\n    data_inicial = first_date.strftime(\"%m-%d-%Y\")\n    data_final = last_date.strftime(\"%m-%d-%Y\")\n\n    # 2.3 Montar URL da API PTAX\n    url = (\n        f\"https://olinda.bcb.gov.br/olinda/servico/PTAX/versao/v1/odata/\"\n        f\"CotacaoDolarPeriodo(dataInicial=@dataInicial,dataFinalCotacao=@dataFinalCotacao)?\"\n        f\"@dataInicial='{data_inicial}'&@dataFinalCotacao='{data_final}'&$top=10000&$format=json\"\n    )\n\n    # 2.4 Requisição e tratamento dos dados\n    response = requests.get(url)\n    dados = response.json()[\"value\"]\n\n    # 2.5 Converter para DataFrame\n    df = pd.DataFrame(dados)\n    df[\"dataHoraCotacao\"] = pd.to_datetime(df[\"dataHoraCotacao\"])\n    df = df.sort_values(\"dataHoraCotacao\")\n\n    # 2.6 Gerar gráfico de linha com Plotly\n    fig = px.line(df, x=\"dataHoraCotacao\", y=\"cotacaoCompra\",\n                  title=f\"Cotação do Dólar - {mes_ano}\",\n                  labels={\"cotacaoCompra\": \"Cotação (R$)\", \"dataHoraCotacao\": \"Data\"})\n    fig.show()\n\nExemplo de Execução\n\n# Exemplo: Julho de 2011\ncotacao_dolar_periodo(\"072011\")"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this blog"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "MyBlog",
    "section": "",
    "text": "Regressão Linear\n\n\n\nRegressão Linear\n\nGráfico\n\nPython\n\n\n\n\n\n\n\n\n\nNov 22, 2025\n\n\nThacyane Silva\n\n\n\n\n\n\n\n\n\n\n\n\nMonitoramento de Frota de Ônibus\n\n\n\nMonitoramento\n\nÔnibus\n\nPython\n\n\n\n\n\n\n\n\n\nNov 21, 2025\n\n\nThacyane Silva\n\n\n\n\n\n\n\n\n\n\n\n\nCotação do Dólar\n\n\n\nAPI\n\nCode\n\nPython\n\n\n\n\n\n\n\n\n\nNov 20, 2025\n\n\nThacyane Silva\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/welcome/index.html",
    "href": "posts/welcome/index.html",
    "title": "Monitoramento de Frota de Ônibus",
    "section": "",
    "text": "Neste post irei mostar uma rotina em Python para consultar a API de transporte público. Além disso, o código exibirá em tempo real a localização dos ônibus no momento da execução.\nAutenticação (Token SPTrans)\n\nimport requests\nfrom folium import Map, Marker\nfrom IPython.display import display\n\nTOKEN = \"5bb9954b06a45ebf22baf7daa6d32a35f32c1bba819731793229d6bc482a8bcb\"\n\n# Autenticação na API\ns = requests.Session()\nx = s.post(f\"http://api.olhovivo.sptrans.com.br/v2.1/Login/Autenticar?token={TOKEN}\")\nprint(\"Autenticação:\", x.text)  # deve retornar True\n\nAutenticação: true\n\n\nBuscar Parada de Linha\n\n# Buscar paradas da linha escolhida (2506)\nparadas = s.get(\"http://api.olhovivo.sptrans.com.br/v2.1/Parada/BuscarParadasPorLinha?codigoLinha=2506\").json()\n\nif paradas:\n    print(\"Total de paradas encontradas:\", len(paradas))\n    print(\"Primeiras paradas:\", paradas[:3])\nelse:\n    print(\"Nenhuma parada encontrada para a linha 2506\")\n\nTotal de paradas encontradas: 15\nPrimeiras paradas: [{'cp': 7014417, 'np': 'ANGELICA B/C', 'ed': 'AV   ANGELICA', 'py': -23.534564, 'px': -46.654302}, {'cp': 60016784, 'np': 'PARADA PALMEIRAS B/C', 'ed': 'R PADRE ANTONIO TOMAS/ AV POMPEIA', 'py': -23.525799, 'px': -46.679251}, {'cp': 60016786, 'np': 'ANTARTICA B/C', 'ed': 'PC SOUSA ARANHA/ VDTO ANTARTICA', 'py': -23.526523, 'px': -46.673588}]\n\n\nMapa (Paradas)\n\nif paradas:\n    m = Map(location=[paradas[0][\"py\"], paradas[0][\"px\"]], zoom_start=14)\n\n    for p in paradas:\n        Marker(location=[p[\"py\"], p[\"px\"]], popup=p[\"np\"]).add_to(m)\n\n    # Mostrar mapa diretamente no Preview\n    display(m)\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\nPosição do ônibus em Tempo Real\n\nposicoes = s.get(\"http://api.olhovivo.sptrans.com.br/v2.1/Posicao/Linha?codigoLinha=2506\").json()\n\nif \"vs\" in posicoes:\n    print(\"Total de ônibus em movimento:\", len(posicoes[\"vs\"]))\n    print(\"Primeiros ônibus:\", posicoes[\"vs\"][:3])\nelse:\n    print(\"Nenhum ônibus encontrado em tempo real\")\n\nTotal de ônibus em movimento: 4\nPrimeiros ônibus: [{'p': '12685', 'a': True, 'ta': '2025-11-23T16:58:27Z', 'py': -23.547649, 'px': -46.641011500000005, 'sv': None, 'is': None}, {'p': '12608', 'a': True, 'ta': '2025-11-23T16:58:35Z', 'py': -23.520449499999998, 'px': -46.6996115, 'sv': None, 'is': None}, {'p': '12613', 'a': True, 'ta': '2025-11-23T16:58:40Z', 'py': -23.526304500000002, 'px': -46.6742105, 'sv': None, 'is': None}]\n\n\nMapa com Parada e Onibus em Tempo Real\n\nif paradas and \"vs\" in posicoes:\n    m = Map(location=[paradas[0][\"py\"], paradas[0][\"px\"]], zoom_start=14)\n\n    # Paradas (azul)\n    for p in paradas:\n        Marker(location=[p[\"py\"], p[\"px\"]], popup=p[\"np\"]).add_to(m)\n\n    # Ônibus em tempo real (vermelho)\n    for v in posicoes[\"vs\"]:\n        Marker(location=[v[\"py\"], v[\"px\"]], popup=f\"Ônibus {v['p']}\").add_to(m)\n\n    # Mostrar mapa diretamente no Preview\n    display(m)\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook"
  }
]